### 1. 什么是端口复用？

允许在特殊情况下重用端口。

1. TIME_WAIT快速重连。

2. 多个套接字绑定到相同的地址（IP + 端口）。多个程序监听相同地址。

   常用于监听套接字来处理，第一个接受连接的套接字获取连接，后续的套接字不会再处理流量。

3. 允许不同的进程绑定同一个端口。

### 2. 为什么ET需要结合文件的非阻塞模式？

非阻塞模式是指在在调用read()/write()的时候，如果没有数据可读，系统会返回-1，并且设置errno为EAGIN，表示程序当前没有数据可以读或者可以写，然后程序处理其他的任务。

而阻塞模式会停留在read()/write()处一直死等数据。

ET是边沿触发，在接受到事件后，只会触发一次，后续不会再触发。如果使用阻塞模式，程序就会阻塞在这里，没有机会处理其他时间。

而非阻塞不会被卡住，而是会使用循环读取，尽多的读取数据，直到没有数据可以读或者缓冲区读满为止。循环读取就是解决可能会

在触发读事件之后，如果缓冲区没有数据，设置errno为-1返回，等待下一次事件触发。如果有数据在缓冲区，不能一次读取的原因是，这个描述符的缓冲区还会继续产生可读数据，所以要循环读取，因为是边缘触发，缓冲区的读取数据不会再在这个文件描述符继续发生信号回调在epoll_wait。

#### 3. 